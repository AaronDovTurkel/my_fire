adt
#9955

tapi — Today at 3:49 PM
but not impossible i guess
adt — Today at 3:54 PM
how about this?
https://github.com/AaronDovTurkel/my_fire/blob/main/my_fire.yaml
GitHub
AaronDovTurkel/my_fire
Contribute to AaronDovTurkel/my_fire development by creating an account on GitHub.

adt — Today at 4:02 PM
also do you have to mirror the footprint nets?
tapi — Today at 4:41 PM
Right! In the matrix level key you can add mirror: with footprints: and the choc and diode footprints
Also in the pcb section you should add a footprint for the mcu, I will send an example when I'm back at my PC.
Last thing is that the nets your defined (c1, c2, etc) need to correspond to pins on the mcu
The only footprint available in ergogen by default is pro micro (mounted on top, with usb port facing the pcb). You have P1-P19 to work with.
adt — Today at 4:47 PM
ok going to try to rework it
tapi — Today at 5:14 PM
here is what i use to generate the pcb

pcbs:
  main:
    outlines:
      main:
        outline: panel
    footprints:
      mcu:
        type: promicro_front
        anchor:
          ref: matrix_inner_top
          rotate: 270
          shift: [1.25cx, -1-cy/4]
change the outline to whichever outline gives you what you want the outer-most edge of your pcb to be
i added my own footprints, so promicro_front will need to be changed to promicro
adt — Today at 5:16 PM
so if i wanted to place it sideways in the middle of the keep i would ancher to inner and rotate?
tapi — Today at 5:17 PM
sideways as in mini-usb pointing left or right?
generating the pcb and checking it is relatively fast. do you have kicad installed?
adt — Today at 5:18 PM
i did but sold my comp and waiting for a new one in the mail --- currently using my wifes mac
tapi — Today at 5:18 PM
i went through like 100 iterations while using the web client, just generating, downloading, opening, looking at where everything is, adjusting, and repeat
adt — Today at 5:18 PM
may install kicad on it soon
but some people said there is a browser based cad software that reads kicad files
tapi — Today at 5:19 PM
yeah i was about to suggest it. i have heard about easyEDA, but not sure if it takes .kicad_pcb files
adt — Today at 5:19 PM
yea im going to look into it
trying to get as far as i can first lol
tapi — Today at 5:20 PM
if you just need me to check something real fast you can send me the file and ill send a screenshot back
but im not sure how much longer ill be online, getting a little late where im at
adt — Today at 5:20 PM
uk?
tapi — Today at 5:20 PM
belgium
adt — Today at 5:22 PM
ah gotchya
adt — Today at 5:29 PM
couldnt install the cli on this comp atm
if you have the cli and could run it on that file that would be awesome but no pressure
tapi — Today at 5:33 PM
yeah no sweat. just send it over! might take a bit because i modded a lot of the footprints while testing so i might have to redownload them
adt — Today at 5:34 PM
thanks!
Skip to content
Search or jump to…

Pull requests
Issues
Marketplace
Expand
message.txt
4 KB
points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
Expand
message.txt
3 KB
the second one
points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
Expand
message.txt
3 KB
sorry this is working
tapi — Today at 5:37 PM
there is a stray rotate
adt — Today at 5:37 PM
the choc got messed up
tapi — Today at 5:37 PM
the rotate: -24 at line 108 in the 2nd one you sent is throwing errors
107
adt — Today at 5:38 PM
points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
Expand
message.txt
4 KB
this better?
tapi — Today at 5:41 PM
made a few edits. yaml fucking sucks
adt — Today at 5:42 PM
i think json is much better
tapi — Today at 5:43 PM
the kicad_file wont open because the column nets and row nets dont match any nets on the mcu. they need to be P1, P2, etc, because thats how the nets for the mcu are configured. for the time being i'm going to replace them with random pins
adt — Today at 5:44 PM
ok thats totally fine
if you can send it back to me when your done :slight_smile:
i may have got the ref anchor wrong
tapi — Today at 5:51 PM
it is being extra difficult because of the row_overrides
i havent worked with those
adt — Today at 5:52 PM
yea mrZealot said it is
i need them to remove the keys
i tried getting the correct nets to line up
tapi — Today at 5:55 PM
just so i understand, is the key all the way on the outside the top pinky key?
or an extra mod key
adt — Today at 5:56 PM
its the top pinky key so i tried getting it on the top row
for the column net
tapi — Today at 5:57 PM
i dont know if thats possible, but in any case, would it matter if it was an extra column in the home row? can still bind it to whatever you like
adt — Today at 5:58 PM
i mean there are extra pins but i dont think it neccessary kicad wise maybe ergogen wise it doesnt work
if its taking too long dont worry get some rest!
tapi — Today at 6:02 PM
only 2 thumb keys, right?
adt — Today at 6:02 PM
yea mirrored
tapi — Today at 6:02 PM
alright then i got it

made quite a few changes, i'll try and point out the most important ones
points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
        meta:
          spread: cx
          key:
            column_net: P0
            mirror:
              column_net: P10
          row_overrides:
            home:
              key:
                row_net: P11
        pinky:
          spread: cx
          stagger: -11
          key:
            column_net: P0
            mirror:
              column_net: P10
          row_overrides:
            home:
            top:
        ring:
          spread: cx
          rotate: -5
          origin: [-12, -19]
          stagger: 6
          key:
            column_net: P1
            mirror:
              column_net: P9
        middle:
          spread: cx
          origin: [-12, -19]
          rotate: -2.5
          stagger: 5
          key:
            column_net: P2
            mirror:
              column_net: P8
        index:
          spread: cx
          stagger: -8
          key:
            column_net: P3
            mirror:
              column_net: P7
        inner:
          spread: cx
          stagger: 10
          key:
            column_net: P4
            mirror:
              column_net: P5
          row_overrides:
            bottom:
              key:
                row_net: P12
                mirror:
                  row_net: P12
            home:
              key:
                row_net: P13
                mirror:
                  row_net: P13
      rows:
        bottom:
          padding: cy
          row_net: P11
        home:
          padding: cy
          row_net: P12
        top:
          row_net: P13
      key:
        footprints:
          choc:
            type: choc_hotswap
            nets:
              from: =colrow
              to: =column_net
          diode:
            type: diode
            anchor:
              shift: [0, -cy/2]
            nets:
              from: =colrow
              to: =row_net
        mirror:
          footprints:
            choc:
              nets:
                from: =colrow
                to: =column_net
    thumbfan:
      anchor:
... (57 lines left)
Collapse
message.txt
4 KB
in zones you have matrix: and thumbfan:
each of those require a key with footprint and mirror
i changed all nets from c0, c1, etc, to P0, P1, etc
when defining the row_net, a key: it not required
for example

rows:
  thumb:
    row_net:
rather than

rows:
  thumb:
    key:
      row_net:
in the mirrored choc footprint, i switched the from and to nets

        mirror:
          footprints:
            choc:
              nets:
                from: =colrow
                to: =column_net
  New

        mirror:
          footprints:
            choc:
              nets:
                from: =column_net
                to: =colrow
 Old
adt — Today at 6:08 PM
i think mrZealot told me to do that switch
tapi — Today at 6:08 PM
then just a bit of syntax adjustment here and there
adt — Today at 6:09 PM
ok ill try to get the correct pins
thank you so much
i was trying to get the mcu usb port facing left
and underneath the inner column
right in that gap
tapi — Today at 6:10 PM
i think he meant that you need a mirror when defining the footprints, because if you mirror everything after the footprints are down then the pins would be switched
not sure though, best to ask for verification when you are ready
i will try rotate 180 for the mcu and see what that gives
adt — Today at 6:11 PM
and prob needs a shift downwards also like a lot
tapi — Today at 6:12 PM
no rotate required for left facing
apparently
adt — Today at 6:12 PM
yea was thinking that cause balbazurd has a 270 and its facign stright
also i need to add the p.rot variable to the choc hotswap -> i opened a pull request but it wasnt merged yet
tapi — Today at 6:13 PM
like so?

adt — Today at 6:14 PM
yea would move it up a notch and would lessen the distance between the mirror so they are almost touching
but looks great thank you
tapi — Today at 6:14 PM
no problem! happy to help :slight_smile:
adt — Today at 6:14 PM
this is choc spacing?
tapi — Today at 6:14 PM
that is a good question which i am also worried about for my pcb
i never really specified it anywhere... need to ask the boss
also, just from the rats nest, i can tell the nets are wrong, especially for the left thumb cluster.
wait no
my eyes just suck
here you go! have fun and good luck :blush:
points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
Expand
message.txt
4 KB
adt — Today at 6:17 PM
thank you!
﻿
points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
        meta:
          spread: cx
          key:
            column_net: P0
            mirror:
              column_net: P10
          row_overrides:
            home:
              key:
                row_net: P11
        pinky:
          spread: cx
          stagger: -11
          key:
            column_net: P0
            mirror:
              column_net: P10
          row_overrides:
            home:
            top:
        ring:
          spread: cx
          rotate: -5
          origin: [-12, -19]
          stagger: 6
          key:
            column_net: P1
            mirror:
              column_net: P9
        middle:
          spread: cx
          origin: [-12, -19]
          rotate: -2.5
          stagger: 5
          key:
            column_net: P2
            mirror:
              column_net: P8
        index:
          spread: cx
          stagger: -8
          key:
            column_net: P3
            mirror:
              column_net: P7
        inner:
          spread: cx
          stagger: 10
          key:
            column_net: P4
            mirror:
              column_net: P5
          row_overrides:
            bottom:
              key:
                row_net: P12
                mirror:
                  row_net: P12
            home:
              key:
                row_net: P13
                mirror:
                  row_net: P13
      rows:
        bottom:
          padding: cy
          row_net: P11
        home:
          padding: cy
          row_net: P12
        top:
          row_net: P13
      key:
        footprints:
          choc:
            type: choc_hotswap
            nets:
              from: =colrow
              to: =column_net
          diode:
            type: diode
            anchor:
              shift: [0, -cy/2]
            nets:
              from: =colrow
              to: =row_net
        mirror:
          footprints:
            choc:
              nets:
                from: =colrow
                to: =column_net
    thumbfan:
      anchor:
        ref: matrix_middle_bottom
        shift: [10, -36]
      columns:
        home:
          spread: 25
          rotate: -28
          origin: [-11.75, -9]
          key:
            column_net: P3
            mirror:
              column_net: P7
        far:
          spread: 21.25
          rotate: -28
          origin: [-9.5, -9]
          key:
            column_net: P4
            mirror:
              column_net: P5
      rows:
        thumb:
          row_net: P14
      key:
        footprints:
          choc:
            type: choc_hotswap
            nets:
              from: =colrow
              to: =column_net
          diode:
            type: diode
            anchor:
              shift: [0, -cy/2]
            nets:
              from: =colrow
              to: =row_net
        mirror:
          footprints:
            choc:
              nets:
                from: =colrow
                to: =column_net
  rotate: -24
  mirror:
    ref: matrix_pinky_home
    distance: 185
pcbs:
  myfire:
    outlines: {}
    footprints:
      mcu:
        type: promicro
        anchor:
          ref:
            - matrix_inner_bottom
            - mirror_matrix_inner_bottom
          shift: [0, -1.5cy]
